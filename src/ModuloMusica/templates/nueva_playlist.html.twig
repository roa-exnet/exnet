{% extends 'base.html.twig' %}

{% block title %}Nueva Playlist - Música Exnet{% endblock %}

{% block head %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('/moduloMusica/css/playlist.css') }}">
{% endblock %}

{% block body %}
<div class="exnet-container-transparent p-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="exnet-main-title">Nueva Playlist</h1>
        <div>
            <a href="{{ path('musica_index') }}" class="exnet-btn-small">
                <i class="fas fa-arrow-left"></i> Volver
            </a>
        </div>
    </div>

    <div class="form-container">
        <h2 class="form-title">Crear una nueva playlist</h2>
        
        <div class="info-text">
            <p>Crea una playlist para organizar tus canciones favoritas. Después de crear la playlist, podrás añadir canciones desde el explorador de música.</p>
        </div>
        
        <form method="post" action="{{ path('musica_playlist_nueva') }}" id="playlistForm">
            <div class="form-group">
                <label for="nombre" class="form-label">Nombre de la playlist *</label>
                <input type="text" id="nombre" name="nombre" class="form-control" required placeholder="Ej: Mis favoritas, Música para estudiar, Lo mejor de rock...">
            </div>
            
            <div class="form-group">
                <label for="descripcion" class="form-label">Descripción</label>
                <textarea id="descripcion" name="descripcion" class="form-control" placeholder="Describe de qué trata esta playlist..."></textarea>
            </div>
            
            <div class="form-group">
                <label for="imagenFile" class="form-label">Imagen de Portada</label>
                <input type="file" id="imagenFile" class="form-control" accept="image/png,image/jpeg,image/jpg,image/webp">
                <input type="hidden" id="imagenBase64" name="imagenBase64">
                <small class="text-muted">Formatos aceptados: PNG, JPG, WEBP (máx. 2MB)</small>
                
                <div id="imagePreviewContainer" class="preview-container">
                    <img id="imagePreview" src="" alt="Preview" class="image-preview">
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-check-label">
                    <input type="checkbox" name="esPublica" class="form-check-input">
                    Playlist pública (visible para todos los usuarios)
                </label>
            </div>
            
            <div class="mt-4 text-end">
                <a href="{{ path('musica_index') }}" class="btn-cancel">Cancelar</a>
                <button type="submit" class="btn-submit">Crear Playlist</button>
            </div>
        </form>
    </div>
</div>

<script src="/moduloMusica/js/nuevaPlaylist.js"></script>
{% endblock %}